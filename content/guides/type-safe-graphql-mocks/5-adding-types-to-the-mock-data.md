---
title: Step 5 - Adding types to the mock data
description: Like tests, types increase your confidence in your code, so leveraging the power of both techniques is a good idea. Another benefit is a nicer development experience with mock autocompletion.
published: 2022-08-01
video: https://youtu.be/zFT-YwdFHpE
repo: https://github.com/okjulian/type-safe-graphql-mocks-msw
instructor: instructors/okjulian.md
---

The MSW library's `graphql.query` request handler can be annotated with types for the response and the variables.

Import the autogenerated `GetCartByIdQuery` type and add it to the request handler inside `__tests__/index.test.tsx`. You will see validation kick in, and indicate that the response needs changes, so go ahead and modify the mock response until the type checker is happy. Even though the test was passing, the mock data needed some tweaks.

This is what `index.test.tsx` should look like now:

```tsx
import { render, screen, waitFor } from "@testing-library/react";
import Home from "../pages/index";
import { graphql } from "msw";
import { setupServer } from "msw/node";
import { GetCartByIdQuery } from "../src/types";

const server = setupServer(
  graphql.query<GetCartByIdQuery>("GetCartById", (req, res, ctx) => {
    return res(
      ctx.data({
        cart: {
          totalItems: 10,
          subTotal: { amount: 20000, formatted: "£200.00" },
          items: [
            {
              id: "5e3293a3462051",
              name: "Full Logo Tee",
              quantity: 10,
              unitTotal: { formatted: "£20.00" },
            },
          ],
        },
      })
    );
  })
);

// ...
```

## Conclusion

In this guide, you learned how to use MSW to mock the API calls you need in your tests. Now you can be confident that your tests will pass, and your code will be type safe.
